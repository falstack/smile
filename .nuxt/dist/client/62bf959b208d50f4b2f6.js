(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{259:function(t,e,n){var content=n(295);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(24).default)("5be0c0c2",content,!0,{sourceMap:!1})},294:function(t,e,n){"use strict";var o=n(259);n.n(o).a},295:function(t,e,n){(e=n(23)(!1)).push([t.i,"@keyframes skeleton-loading{0%{background-position:100% 50%}to{background-position:0 50%}}@-webkit-keyframes skeleton-loading{0%{background-position:100% 50%}to{background-position:0 50%}}@keyframes skeleton{0%{width:60%}50%{width:100%}to{width:60%}}@-webkit-keyframes skeleton{0%{width:60%}50%{width:100%}to{width:60%}}#bangumi-trial{padding:15px}#bangumi-trial .trial-item{border-bottom:1px solid #e7e7e7}#bangumi-trial .trial-item .question{font-weight:500;font-size:18px;margin-bottom:5px;margin-top:10px}#bangumi-trial .trial-item .answers{list-style-type:upper-alpha;margin-left:1.3em;margin-bottom:10px}#bangumi-trial .trial-item .answers .is-selected{background-color:#ff6881}#bangumi-trial .trial-item .controls{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:center;align-items:center;margin-bottom:10px}",""]),t.exports=e},371:function(t,e,n){"use strict";n.r(e);n(35),n(55),n(32),n(104),n(105),n(76),n(10),n(75),n(33);var o=n(56);function r(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var c={name:"BangumiTrial",data:function(){return{loading:!1}},computed:{query:function(){var t=this.$route.query;return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?r(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):r(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},t,{$axios:this.$axios,status:0})}},methods:{handleDelete:function(t){var e=this;this.$confirm("删除后不可恢复，确认要删除吗？","提示").then((function(){e.loading||(e.loading=!0,e.$axios.$post("v1/join/delete",{id:t}).then((function(){e.$toast.success("删除成功"),e.$refs.loader.delete(t)})).catch((function(t){e.$toast.error(t.message)})).finally((function(){e.loading=!1})))})).catch((function(){}))},handlePass:function(t){var e=this;this.loading||(this.loading=!0,this.$axios.$post("v1/join/recommend",{id:t}).then((function(){e.$toast.success("入库成功"),e.$refs.loader.delete(t)})).catch((function(t){e.$toast.error(t.message)})).finally((function(){e.loading=!1})))},checkIsSelected:function(t,e,n){var o=t.answers||{},r=!1;return Object.keys(o).forEach((function(t){t.toString()!==n.toString()||r||(r=o[t]===e)})),r}},head:{title:"审核题目"}},l=(n(294),n(31)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bangumi-trial"}},[n("FlowLoader",{ref:"loader",attrs:{func:"getBangumiQuestionTrials",type:"page",query:t.query},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.flow,r=e.extra;return n("div",{},t._l(o,(function(e){return n("div",{key:e.id,staticClass:"trial-item"},[n("p",{staticClass:"question",domProps:{innerHTML:t._s(e.title)}}),t._v(" "),n("ol",{staticClass:"answers"},t._l(e.answers,(function(o,c){return n("li",{key:c,class:{"is-selected":t.checkIsSelected(r,c,e.id)}},[n("span",{domProps:{innerHTML:t._s(o)}})])})),0),t._v(" "),n("div",{staticClass:"controls"},[n("div",[n("span",[t._v("用户：")]),t._v(" "),n("span",{domProps:{textContent:t._s(e.user.nickname)}})]),t._v(" "),n("div",[n("button",{on:{click:function(n){return t.handleDelete(e.id)}}},[t._v("\n              拒绝\n            ")]),t._v(" "),n("button",{on:{click:function(n){return t.handlePass(e.id)}}},[t._v("\n              通过\n            ")])])])])})),0)}},{key:"error",fn:function(e){var n=e.error;return[t._v("\n      "+t._s(n.message)+"\n    ")]}}])})],1)}),[],!1,null,null,null);e.default=component.exports}}]);