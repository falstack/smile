(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{244:function(n,t,e){},284:function(n,t,e){"use strict";var o=e(244);e.n(o).a},345:function(n,t,e){"use strict";e.r(t);e(26),e(78),e(9),e(57),e(31);var o={name:"AdminQaTrial",data:function(){return{loading:!1}},methods:{handleDelete:function(n){var t=this;this.$confirm("删除后不可恢复，确认要删除吗？","提示").then((function(){t.loading||(t.loading=!0,t.$axios.$post("v1/join/delete",{id:n}).then((function(){t.$toast.success("删除成功"),t.$refs.loader.delete(n)})).catch((function(n){t.$toast.error(n.message)})).finally((function(){t.loading=!1})))})).catch((function(){}))},handlePass:function(n){var t=this;this.loading||(this.loading=!0,this.$axios.$post("v1/join/recommend",{id:n}).then((function(){t.$toast.success("入库成功"),t.$refs.loader.delete(n)})).catch((function(n){t.$toast.error(n.message)})).finally((function(){t.loading=!1})))},checkIsSelected:function(n,t,e){var o=n.answers||{},r=!1;return Object.keys(o).forEach((function(n){n.toString()!==e.toString()||r||(r=o[n]===t)})),r}},head:{title:"审核题目"}},r=(e(284),e(24)),component=Object(r.a)(o,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{attrs:{id:"admin-qa-trial"}},[e("FlowLoader",{ref:"loader",attrs:{func:"getBangumiQuestionTrials",type:"page",query:{$axios:n.$axios,status:0}},scopedSlots:n._u([{key:"default",fn:function(t){var o=t.flow,r=t.extra;return e("div",{},n._l(o,(function(t){return e("div",{key:t.id,staticClass:"trial-item"},[e("p",{staticClass:"question",domProps:{innerHTML:n._s(t.title)}}),n._v(" "),e("ol",{staticClass:"answers"},n._l(t.answers,(function(o,c){return e("li",{key:c,class:{"is-selected":n.checkIsSelected(r,c,t.id)}},[e("span",{domProps:{innerHTML:n._s(o)}})])})),0),n._v(" "),e("div",{staticClass:"controls"},[e("div",{staticClass:"intro"},[e("span",{domProps:{textContent:n._s(t.user.nickname)}}),n._v(" "),e("span",{domProps:{textContent:n._s(t.bangumi.name)}})]),n._v(" "),e("div",{staticClass:"btn"},[e("button",{on:{click:function(e){return n.handleDelete(t.id)}}},[n._v("\n              拒绝\n            ")]),n._v(" "),e("button",{on:{click:function(e){return n.handlePass(t.id)}}},[n._v("\n              通过\n            ")])])])])})),0)}},{key:"error",fn:function(t){var e=t.error;return[n._v("\n      "+n._s(e.message)+"\n    ")]}}])})],1)}),[],!1,null,null,null);t.default=component.exports}}]);